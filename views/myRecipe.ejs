<!DOCTYPE html>
<html>
<head>
  <%- include('header'); %>    

<!-- Page contents-->




<hr>
<div class="recipeHeader">
<h3>My Recipes</h3>
</div>



<div class="container">

    <!-- class for the images shld be recipeImage and recipeImage2 -->
      <div class="row">
        <% myRecipe.forEach(function(dish){ %>
          <div class="col-md-2">
<<<<<<< Updated upstream
      <img class="recipeImage" src="/assets/img/photo-1546069901-ba9599a7e63c.jpg" >
      <p class="recipeImageText"><%=dish.recipe_title %></p>
=======
            <a class="favLink" href="/user/recipe?id=<%=dish.id %>" dishId="<%=dish.id%>">
      <img class="recipeImage" src="/assets/FoodImages/<%=dish.image_name%>.jpg" >
      <p class="recipeImageText"><%=dish.title %></p>
      <form action="/user/deleteFavourite" name="deleteRecipe" method="post" id="delete-form" style="display:none;padding:5px;">
        <input type="hidden" value="<%=dish.id %>" name="recipe_id">
        <input hidden type="submit" value="delete">
      </form>
      </a>
>>>>>>> Stashed changes
      </div>
        <% }) %> 
        
      </div>
</div>
<<<<<<< Updated upstream
=======

<script>
const deleteButton = document.getElementById("ToggleDelete");
const delete_form = document.getElementById("delete-form");
const favLinks = document.querySelectorAll(".favLink");
var deleting=false

deleteButton.addEventListener("click", function () {
   deleting=!deleting


    if (deleting) {

      deleteButton.textContent = "Done";
     
      
      link.setAttribute("href", "javascript:document.deleteRecipe.submit()");
      
    } else {
      deleteButton.textContent = "Delete";
      favLinks.forEach(function (link) {
        const dishId = link.getAttribute("dishId");
        link.setAttribute("href", `/user/recipe?id=${dishId}`)
      })
    }
  ;
});

  </script>





>>>>>>> Stashed changes
<div class="buttonPos">
    <button onclick="expCol()" id="expand">Expand</button>
    </div>



<hr>
<div class="recipeHeader">
<h3>Favourite Recipes</h3>
</div>


<div class="container">

  <!-- class for the images shld be recipeImage and recipeImage2 -->
    <div class="row">
      <% myRecipe.forEach(function(dish){ %>
        <div class="col-md-2">
    <img class="recipeImage" src="/assets/img/photo-1546069901-ba9599a7e63c.jpg" >
    <p class="recipeImageText"><%=dish.recipe_title %></p>
    </div>
      <% }) %> 
      
    </div>
</div>


<div class="buttonPos">
<button id="expandFav">Expand</button>
</div>
<hr>

<script>

    // myRecipe script
    
    const expandButton=document.getElementById("expand")
   expandButton.addEventListener("click",function(){
    if(expandButton.textContent=="Expand"){
    expandButton.textContent="Collapse"
   }else
   {
    expandButton.textContent="Expand"
   }
   }
   )

   const expandFavButton=document.getElementById("expandFav")
   expandFavButton.addEventListener("click",function(){
    if(expandFavButton.textContent=="Expand"){
    expandFavButton.textContent="Collapse"
   }else
   {
    expandFavButton.textContent="Expand"
   }
   }
   )
  
    
   
   var checkHiddenImage=document.getElementsByClassName("recipeImage")
   var imageText=document.getElementsByClassName("recipeImageText")

   for(a=0;a<checkHiddenImage.length;a++){
    if(a>5){
      checkHiddenImage[a].style.display="none"
      imageText[a].style.display="none"
    }
   }
    
    function expCol(){
        
      for(i=0;i<checkHiddenImage.length;i++){
        
      if(i>5 && checkHiddenImage[i].style.display=="none"){
        imageText[i].style.display="block"
        checkHiddenImage[i].style.display="inline"
      }else if(i>5 && checkHiddenImage[i].style.display=="inline"){
        
        checkHiddenImage[i].style.display="none"
        imageText[i].style.display="none"
    
      }
    }
    }
    
    </script>
</body>

<%- include('footer'); %>    
</html>